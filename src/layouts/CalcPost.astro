---
import type { CollectionEntry } from 'astro:content'
import BaseLayout from '@/layouts/BaseLayout'
import Hero from '@/components/Hero'
import { ViewTransitions } from 'astro:transitions'
import AbsolyutnijSpirt from '@/calc/AbsolyutnijSpirt.jsx'
import Braga from '@/calc/Braga.jsx'
import DrobnayaPeregonka from '@/calc/DrobnayaPeregonka.jsx'
import OtborGolov from '@/calc/OtborGolov.jsx'
import PoslePervoj from '@/calc/PoslePervoj.jsx'
import RazbavleniyaSamogona from '@/calc/RazbavleniyaSamogona.jsx'
import SebestoimApprox from '@/calc/SebestoimApprox.jsx'
import Sebestoimost from '@/calc/Sebestoimost.jsx'
import SmeshSpirt from '@/calc/SmeshSpirt.jsx'
import Temperature from '@/calc/Temperature.jsx'
import VodkaCalc from '@/calc/VodkaCalc.jsx'
import Zamena from '@/calc/Zamena.jsx'
import Ad1R from '@/components/Ad1R'
import Ad1L from '@/components/Ad1L'
import AdYaScript from '@/components/AdYaScript'

type Props = {
	id: CollectionEntry<'calcs'>['id']
	data: CollectionEntry<'calcs'>['data']
}

const { data, id } = Astro.props
const { title, description, h1, heroImage, pretext } = data
---

<BaseLayout title={title} description={description} image={heroImage?.src}>
	<Hero headImg={heroImage} titlePage={title} h1={h1} descriptionPage={description} urlSeo={id} />

	<div class='mx-auto max-w-[680px] pt-12 text-lg px-6'>
		{pretext}
	</div>

	<div class='flex flex-col lg:flex-row w-full mx-auto'>
		<div class='basis-1/6 mx-6 mb-12 lg:mb-0'>
			<Ad1L />
		</div>
		<div class='mx-auto w-full max-w-6xl text-lg sm:px-6 px-6'>
			{
				title == 'Калькулятор абсолютного спирта: формула + как рассчитать' ? (
					<AbsolyutnijSpirt client:load />
				) : title == 'Калькулятор браги (выход сахарной и зерновой браги)' ? (
					<Braga client:load />
				) : title == 'Калькулятор второй дробной перегонки самогона (спирта-сырца)' ? (
					<DrobnayaPeregonka client:load />
				) : title == 'Калькулятор отбора голов при второй перегонке' ? (
					<OtborGolov client:load />
				) : title == 'Калькулятор разбавления спирта-сырца (после первого перегона)' ? (
					<PoslePervoj client:load />
				) : title == 'Калькулятор разбавления самогона и спирта' ? (
					<RazbavleniyaSamogona client:load />
				) : title == 'Калькулятор примерной стоимости самогона' ? (
					<SebestoimApprox client:load />
				) : title == 'Себестоимость самогона' ? (
					<Sebestoimost client:load />
				) : title == 'Калькулятор смешивания спиртов' ? (
					<SmeshSpirt client:load />
				) : title == 'Спирт от температуры: Калькулятор' ? (
					<Temperature client:load />
				) : title == 'Калькулятор водки: как разбавить самогон или спирта до 40°' ? (
					<VodkaCalc client:load />
				) : title == 'Калькулятор замены сахара декстрозой' ? (
					<Zamena client:load />
				) : (
					<p>Калькулятор не найден</p>
				)
			}
		</div>
		<div class='basis-1/6 mx-6 mt-12 lg:mt-0'>
			<Ad1R client:load />
		</div>
	</div>
	<article class='min-w-ful md:py-4 sm:max-w-none md:max-w-none'>
		<div>
			<slot />
		</div>
	</article>
</BaseLayout>
