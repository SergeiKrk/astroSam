---
import BaseLayout from '@/layouts/BaseLayout'
import ListPosts from '@/components/ListPosts'
import TitlePage from '@/components/TitlePage'
import { getTags, getPostByTag } from '@/utils'

export async function getStaticPaths() {
	const tags = await getTags()

	return tags.map((tag) => ({
		params: { tag },
		props: { tag }
	}))
}

const { tag } = Astro.props

const posts = await getPostByTag(tag)
---

<BaseLayout title={tag}>
	<div class='flex justify-center mt-52'>
		<div class='flex flex-col'>
			<div class='text-[32px] font-bold text-black'>Рецепты содержащие:</div>
			<TitlePage title={tag} />
		</div>
	</div>
	<div class='my-10 mx-4 2xl:mx-52 2xl:my-16'>
		<ListPosts posts={posts} />
	</div>
</BaseLayout>
