---
import Hero from '@/components/Hero'
import ListCategories from '@/components/ListCategories'
import ListPosts from '@/components/ListPosts'
import ListCalcs from '@/components/ListCalcs'
import BaseLayout from '@/layouts/BaseLayout'
import { getPosts } from '@/utils'
import { getCalcs } from '@/utils'
import { getEntry } from 'astro:content'
import headImg from '../assets/images/kalkulyator-samogonshchika.png'
import CalcIcon from '../components/icons/CalcIcon.astro'
import RecipeIcon from '../components/icons/RecipeIcon.astro'
const homepage = await getEntry('calcPages', 'home')
const { title, description, titlePage, descriptionPage, urlSeo } = homepage.data

const MAX_POSTS = 6 // max number of posts to show on the home page
const posts = await getPosts(MAX_POSTS)
const calcs = await getCalcs()
---

<BaseLayout title={title} description={description}>
	<Hero headImg={headImg} titlePage={titlePage} descriptionPage={descriptionPage} urlSeo={urlSeo} />

	<ListCalcs {calcs} />

	<div class='bg-[#1abc9c] dark:bg-[#00614B] py-10 px-4 2xl:px-52 2xl:py-24'>
		<div
			class='flex justify-center uppercase text-lg text-center sm:text-4xl text-white font-[700]'
		>
			–û–ù–õ–ê–ô–ù –ö–ê–õ–¨–ö–£–õ–Ø–¢–û–†–´ –°–ê–ú–û–ì–û–ù–©–ò–ö–ê
		</div>
		<div class='my-6 sm:my-10 flex justify-center text-xl sm:text-4xl text-gray-700 font-[700]'>
			<div class='my-auto h-[4px] w-32 bg-gray-50 border-gray-50 rounded'></div>
			<div class='mx-6 dark:text-white'>
				<CalcIcon />
			</div>
			<div class='my-auto h-[4px] w-32 bg-gray-50 border-gray-50 rounded'></div>
		</div>
		<div class='text-xl text-white max-w-xl mx-auto font-[200]'>
			–û–Ω–ª–∞–π–Ω –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã —Å–∞–º–æ–≥–æ–Ω—â–∏–∫–∞ - –Ω–∞–±–æ—Ä –ø–æ–ª–µ–∑–Ω—ã—Ö –¥–ª—è –≤–∏–Ω–æ–∫—É—Ä–æ–≤ (–¥–∏—Å—Ç–∏–ª—å–µ)
			–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤-–ø–æ–º–æ—â–Ω–∏–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –≤—Å–µ—Ö –≤–∞–∂–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ
			–ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ –∫—Ä–µ–ø–∫–∏—Ö –¥–æ–º–∞—à–Ω–∏—Ö –Ω–∞–ø–∏—Ç–∫–æ–≤.
		</div>
	</div>

	<div class='my-10 mx-4 2xl:mx-52 2xl:my-24'>
		<div
			class='flex justify-center uppercase text-lg text-center sm:text-4xl text-gray-700 font-[700] dark:text-white'
		>
			–†–µ—Ü–µ–ø—Ç—ã –Ω–∞—Å—Ç–æ–µ–∫ –∏ –Ω–∞–ª–∏–≤–æ–∫
		</div>
		<div class='my-6 sm:my-10 flex justify-center text-xl sm:text-4xl text-gray-700 font-[700]'>
			<div class='my-auto h-[4px] w-32 bg-gray-700 border-gray-700 rounded'></div>
			<div class='mx-6'>
				<RecipeIcon />
			</div>
			<div class='my-auto h-[4px] w-32 bg-gray-700 border-gray-700 rounded'></div>
		</div>
		<ListCategories />
		<div>
			<ListPosts posts={posts} />
		</div>
	</div>

	<div class='bg-[#1abc9c] dark:bg-[#00614B] py-10 px-4 2xl:px-52 2xl:py-24'>
		<div
			class='flex justify-center uppercase text-lg text-center sm:text-4xl text-white font-[700]'
		>
			–ê–õ–ö–û–ì–û–õ–¨–ù–´–ô –ö–ê–õ–¨–ö–£–õ–Ø–¢–û–† –°–ê–ú–û–ì–û–ù–©–ò–ö–ê: –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê
		</div>
		<div class='text-xl text-white max-w-4xl mx-auto font-[200] mt-16 dark:text-white'>
			–ò—â–∏—Ç–µ –ª—É—á—à–∏–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å–∞–º–æ–≥–æ–Ω—â–∏–∫–∞? –í–æ–∑–º–æ–∂–Ω–æ, –≤—ã –µ–≥–æ –Ω–∞—à–ª–∏. –ù–∞—à–∏ –æ–Ω–ª–∞–π–Ω –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã:
		</div>
		<div class='grid sm:grid-cols-2 text-xl text-white max-w-4xl mx-auto font-[200]'>
			<div class='m-2 text-white'>
				<div class='my-8 flex justify-center text-4xl'>
					<div class='flex justify-center'>üöÄ</div>
				</div>
				–ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∑–∞–º–µ—Ç–Ω–æ –±—ã—Å—Ç—Ä–µ–µ –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–æ–≤ —Å–∞–º–æ–≥–æ–Ω–∞ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤. –ù–µ –Ω—É–∂–Ω–æ –∂–¥–∞—Ç—å
				–ø–æ–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è, –≤–µ–¥—å —ç—Ç–æ –≤—Å–µ—Ö —Ä–∞–∑–¥—Ä–∞–∂–∞–µ—Ç.
			</div>
			<div class='my-2 text-white'>
				<div class='my-8 flex justify-center text-4xl'>‚ö°Ô∏è</div>
				<p>
					–†–∞—Å—á–µ—Ç –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –≤–≤–æ–¥–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä. –ù–µ –Ω—É–∂–Ω–æ —Å–æ–≤–µ—Ä—à–∞—Ç—å
					–ª–∏—à–Ω–µ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è –∏ –Ω–∞–∂–∏–º–∞—Ç—å –Ω–∞ –∫–Ω–æ–ø–∫—É "–ü–æ—Å—á–∏—Ç–∞—Ç—å".
				</p>
			</div>
		</div>
	</div>
</BaseLayout>

<script>
	import { animate } from 'motion'
	const showAnimations = localStorage.getItem('animations') === 'true'

	document.addEventListener('astro:page-load', () => {
		if (showAnimations) {
			animate(
				'.title',
				{ y: [80, 0], opacity: [0, 1] },
				{
					duration: 2.5,
					opacity: { duration: 3 },

					offset: [0, 0.55, 0.75]
				}
			)
		}
	})
</script>
